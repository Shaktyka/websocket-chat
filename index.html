<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Girl's Chat</title>
  <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
  <style>
    body {
  margin: 0;
  padding-left: 20px;
  padding-right: 20px;
  font-size: 28px;
  background-color: pink;
}

.chat__window {
  min-height: 730px;
  background-color: floralwhite;
}

.chat__greeting {
  text-align: center;
  border-bottom: 1px solid gray;
}

.chat__panel {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  padding: 20px;
  box-sizing: border-box;
  background-color: peru;
}

input {
  font-size: inherit;
  width: 100%;
}

.chat__inputs {
  display: flex;
  flex-direction: row;
}

.chat__input-nick {
  max-width: 20%;
  padding-right: 20px;
}

.chat__input-nick, .chat__input-text {
  flex-grow: 1;
}
    
    .submit {
      display: none;
    }
  </style>
<!--  <link rel="stylesheet" href="style.css">-->
</head>
<body>
  <section class="chat">
    <div class="chat__window" id="chat-window">
      <h2 class="chat__greeting" id="greeting">Добро пожаловать в чат!</h2>
    </div>
    <div class="chat__panel">
     <form onsubmit="sendMessage(this.nickname.value, this.message.value); this.message.value=''; return false;">
      <div class="chat__inputs">
        <div class="chat__input-nick">
          <input type="text" name="nickname" placeholder="nickname" autofocus autocomplete="off">
        </div>
        <div class="chat__input-text">
          <input type="text" name="message" placeholder="message" autocomplete="off">
        </div>
        <input class="submit" type="submit">
      </div>
      </form>
    </div>
  </section>
  <script>
    var socket = io({transports: ['websocket']});
    var messageContainer = document.querySelector('.chat__window');
    socket.on('message', function (data) {
      renderMessage(data);
    });
    
    function sendMessage (nickname, message) {
      if (nickname && message) {
        socket.emit('message', {nickname: nickname, message: message});
        renderMessage({nickname: nickname, message: message});
      }
    };
    
    function renderMessage (data) {
      var div = document.createElement('div');
      div.innerHTML = '<span><strong>' + data.nickname + ':</strong> ' + data.message + '</span>';
      messageContainer.insertBefore(div, messageContainer.firstChild);
      document.querySelector('.chat__greeting').style.display = 'none';
    };
  </script>
</body>
</html>